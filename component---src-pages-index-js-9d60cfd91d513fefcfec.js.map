{"version":3,"sources":["webpack:///component---src-pages-index-js-9d60cfd91d513fefcfec.js","webpack:///./~/ptz-i18n/dist/getBrowserLanguage.js?f30c**","webpack:///./~/ptz-i18n/dist/getCurrentLangKey.js?cd5c**","webpack:///./~/ptz-i18n/dist/getSlugAndLang.js?0a6a**","webpack:///./~/ptz-i18n/dist/getUserLangKey.js?f26d**","webpack:///./~/ptz-i18n/dist/getValidLangKey.js?811d**","webpack:///./~/ptz-i18n/dist/index.js?462e**","webpack:///./~/ptz-i18n/dist/redirectToHome.js?1723**","webpack:///./src/pages/index.js"],"names":["webpackJsonp","32","module","exports","Object","defineProperty","value","getBrowserLanguage","window","first","navigator","languages","lang","language","browserLanguage","userLanguage","default","58","__webpack_require__","_interopRequireDefault","obj","__esModule","_ramda","_getValidLangKey","_getValidLangKey2","getCurrentLangKey","curry","langs","defaultLangKey","url","langKey","split","59","defaultPagesPaths","getPagesPaths","options","pagesPaths","getLangKeyDefault","langKeyDefault","addSlashStart","fileName","startsWith","addSlashEnd","endsWith","addSlash","compose","getSlugAndLang","fileAbsolutePath","slugsAndLangs","map","pagesPath","filePath","isNil","length","slug","replace","head","filter","not","33","_getBrowserLanguage","_getBrowserLanguage2","getUserLangKey","pipe","23","getValidLangKey","currentLangKey","l","60","redirectToHome","isHomePage","nPaths","getUrlForLang","getLangs","getI18nBase","undefined","_getCurrentLangKey","_getCurrentLangKey2","_redirectToHome","_redirectToHome2","_getUserLangKey","_getUserLangKey2","_getSlugAndLang","_getSlugAndLang2","match","homeLink","selected","link","i18n","values","61","newUrl","location","476","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","create","constructor","enumerable","writable","configurable","setPrototypeOf","__proto__","pageQuery","_react","_react2","_graphql","_ptzI18n","_gatsbyLink","RedirectIndex","_React$PureComponent","args","this","_this","_args$data$site$siteM","data","site","siteMetadata","homeUrl","withPrefix","___history","render","createElement","PureComponent"],"mappings":"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","file":"component---src-pages-index-js-9d60cfd91d513fefcfec.js","sourcesContent":["webpackJsonp([35783957827783],{\n\n/***/ 32:\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t/**\n\t * Get browser language.\n\t *\n\t * @return {String} langKey\n\t */\n\tvar getBrowserLanguage = function getBrowserLanguage() {\n\t  if (typeof window === 'undefined') {\n\t    return null;\n\t  }\n\t\n\t  var first = window.navigator.languages ? window.navigator.languages[0] : null;\n\t\n\t  var lang = first || window.navigator.language || window.navigator.browserLanguage || window.navigator.userLanguage;\n\t\n\t  return lang;\n\t};\n\t\n\texports.default = getBrowserLanguage;\n\n/***/ }),\n\n/***/ 58:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _ramda = __webpack_require__(11);\n\t\n\tvar _getValidLangKey = __webpack_require__(23);\n\t\n\tvar _getValidLangKey2 = _interopRequireDefault(_getValidLangKey);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/**\n\t * Get current language key from url.\n\t * @func\n\t * @param {[String]} langs allowed lang keys ['en', 'fr', 'pt']\n\t * @param {String} defaultLangKey default browser language key\n\t * @param {String} url browser url \n\t * @returns {String} current langKey\n\t */\n\tvar getCurrentLangKey = (0, _ramda.curry)(function (langs, defaultLangKey, url) {\n\t  var langKey = url.split('/')[1];\n\t  return (0, _getValidLangKey2.default)(langs, defaultLangKey, langKey);\n\t});\n\t\n\texports.default = getCurrentLangKey;\n\n/***/ }),\n\n/***/ 59:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _ramda = __webpack_require__(11);\n\t\n\tvar defaultPagesPaths = ['/src/pages/'];\n\t\n\tvar getPagesPaths = function getPagesPaths(options) {\n\t  return options && options.pagesPaths || defaultPagesPaths;\n\t};\n\t\n\tvar getLangKeyDefault = function getLangKeyDefault(options) {\n\t  return options && options.langKeyDefault || options;\n\t};\n\t\n\tvar addSlashStart = function addSlashStart(fileName) {\n\t  return (0, _ramda.startsWith)('/', fileName) ? fileName : '/' + fileName;\n\t};\n\t\n\tvar addSlashEnd = function addSlashEnd(fileName) {\n\t  return (0, _ramda.endsWith)('/', fileName) ? fileName : fileName + '/';\n\t};\n\t\n\tvar addSlash = (0, _ramda.compose)(addSlashStart, addSlashEnd);\n\t\n\t/**\n\t * Get slug (path) and langKey for a given file path.\n\t *\n\t * Used by gatsby-plugin-i18n and gatsby-plugin-i18n-tags\n\t *\n\t * @param {{langKeyDefault: string, pagesPaths: string[] }} options plugin options\n\t * @param {String} fileAbsolutePath local file absolute path\n\t * @return {{slug: string, langKey: string}} slug and langKey\n\t */\n\tvar getSlugAndLang = (0, _ramda.curry)(function (options, fileAbsolutePath) {\n\t  var slugsAndLangs = getPagesPaths(options).map(function (pagesPath) {\n\t    var filePath = ('safeStartToSplit-' + fileAbsolutePath).split(pagesPath)[1];\n\t\n\t    if ((0, _ramda.isNil)(filePath)) {\n\t      return null;\n\t    }\n\t\n\t    var fileName = filePath.split('.');\n\t    var langKey = fileName.length === 3 ? fileName[1] : getLangKeyDefault(options);\n\t    var slug = addSlash((fileName.length === 3 ? langKey : '') + addSlash(fileName[0].replace('index', '')));\n\t\n\t    return {\n\t      slug: slug,\n\t      langKey: langKey\n\t    };\n\t  });\n\t\n\t  return (0, _ramda.head)(slugsAndLangs.filter((0, _ramda.compose)(_ramda.not, _ramda.isNil)));\n\t});\n\t\n\texports.default = getSlugAndLang;\n\n/***/ }),\n\n/***/ 33:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _getBrowserLanguage = __webpack_require__(32);\n\t\n\tvar _getBrowserLanguage2 = _interopRequireDefault(_getBrowserLanguage);\n\t\n\tvar _getValidLangKey = __webpack_require__(23);\n\t\n\tvar _getValidLangKey2 = _interopRequireDefault(_getValidLangKey);\n\t\n\tvar _ramda = __webpack_require__(11);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/**\n\t * Get user browser valid langKey\n\t * @param {[String]} langs allowed lang keys ['en', 'fr', 'pt']\n\t * @param {String} defaultLangKey default browser language key\n\t * @return {string} valid langKey\n\t */\n\tvar getUserLangKey = function getUserLangKey(langs, defaultLangKey) {\n\t  return (0, _ramda.pipe)(_getBrowserLanguage2.default, (0, _getValidLangKey2.default)(langs, defaultLangKey))();\n\t};\n\t\n\texports.default = getUserLangKey;\n\n/***/ }),\n\n/***/ 23:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _ramda = __webpack_require__(11);\n\t\n\t/**\n\t * Get valid langKey in langs or return defaultLangKey\n\t * @func\n\t * @param {[String]} langs allowed lang keys ['en', 'fr', 'pt']\n\t * @param {String} defaultLangKey default browser language key\n\t * @returns {String} valid langKey\n\t */\n\tvar getValidLangKey = (0, _ramda.curry)(function (langs, defaultLangKey, langKey) {\n\t  if ((0, _ramda.isNil)(langKey)) {\n\t    return defaultLangKey;\n\t  }\n\t\n\t  var currentLangKey = (0, _ramda.filter)(function (l) {\n\t    return (0, _ramda.startsWith)(l, langKey);\n\t  }, langs);\n\t  return currentLangKey[0] || defaultLangKey;\n\t});\n\t\n\texports.default = getValidLangKey;\n\n/***/ }),\n\n/***/ 60:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.redirectToHome = exports.isHomePage = exports.nPaths = exports.getUrlForLang = exports.getSlugAndLang = exports.getLangs = exports.getI18nBase = exports.getValidLangKey = exports.getUserLangKey = exports.getCurrentLangKey = exports.getBrowserLanguage = undefined;\n\t\n\tvar _ramda = __webpack_require__(11);\n\t\n\tvar _getCurrentLangKey = __webpack_require__(58);\n\t\n\tvar _getCurrentLangKey2 = _interopRequireDefault(_getCurrentLangKey);\n\t\n\tvar _getValidLangKey = __webpack_require__(23);\n\t\n\tvar _getValidLangKey2 = _interopRequireDefault(_getValidLangKey);\n\t\n\tvar _getBrowserLanguage = __webpack_require__(32);\n\t\n\tvar _getBrowserLanguage2 = _interopRequireDefault(_getBrowserLanguage);\n\t\n\tvar _redirectToHome = __webpack_require__(61);\n\t\n\tvar _redirectToHome2 = _interopRequireDefault(_redirectToHome);\n\t\n\tvar _getUserLangKey = __webpack_require__(33);\n\t\n\tvar _getUserLangKey2 = _interopRequireDefault(_getUserLangKey);\n\t\n\tvar _getSlugAndLang = __webpack_require__(59);\n\t\n\tvar _getSlugAndLang2 = _interopRequireDefault(_getSlugAndLang);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/**\n\t * Gets the number of paths in a url\n\t * @param {*} url pathName\n\t * @returns {Number} number of paths\n\t */\n\tvar nPaths = function nPaths(url) {\n\t  return (url.match(/\\//g) || []).length - 1;\n\t};\n\t\n\t/**\n\t * Checks if the url is /, /en/ or /pt/\n\t * @param {*} url this.props.location\n\t * @returns {Boolean} is home or not\n\t */\n\tvar isHomePage = function isHomePage(url) {\n\t  return nPaths(url) <= 1;\n\t};\n\t\n\t/**\n\t * Get url to the language\n\t * @param {String} homeLink  link for the home page\n\t * @param {String} url  browser url\n\t * @param {String} langKey default browser language key\n\t * @returns {String} new url\n\t */\n\tvar getUrlForLang = (0, _ramda.curry)(function (homeLink, url, langKey) {\n\t  return url === '/' || !(0, _ramda.startsWith)(homeLink, url) ? '/' + langKey + '/' : url.replace(homeLink, '/' + langKey + '/');\n\t});\n\t\n\t/**\n\t * Get langs to create Menu\n\t * @param {[String]} langs lang keys ['en', 'fr', 'pt']\n\t * @param {String} currentLangKey current Lang Key\n\t * @param {func} getUrlForLang getUrlForLang curried, waiting for langKey\n\t * @returns {Array} langs menu data\n\t */\n\tvar getLangs = (0, _ramda.curry)(function (langs, currentLangKey, getUrlForLang) {\n\t  return langs.map(function (langKey) {\n\t    return {\n\t      langKey: langKey,\n\t      selected: currentLangKey === langKey,\n\t      link: getUrlForLang(langKey)\n\t    };\n\t  });\n\t});\n\t\n\t/**\n\t * Get i18n obj for the given langKey or first when not found\n\t * @param {*} i18n Translations object\n\t * @param {*} langKey langKey\n\t * @returns {*} i18n[langKey] or i18n[defaultLangKey]\n\t */\n\tvar getI18nBase = (0, _ramda.curry)(function (i18n, langKey) {\n\t  return i18n[langKey] || Object.values(i18n)[0];\n\t});\n\t\n\texports.getBrowserLanguage = _getBrowserLanguage2.default;\n\texports.getCurrentLangKey = _getCurrentLangKey2.default;\n\texports.getUserLangKey = _getUserLangKey2.default;\n\texports.getValidLangKey = _getValidLangKey2.default;\n\texports.getI18nBase = getI18nBase;\n\texports.getLangs = getLangs;\n\texports.getSlugAndLang = _getSlugAndLang2.default;\n\texports.getUrlForLang = getUrlForLang;\n\texports.nPaths = nPaths;\n\texports.isHomePage = isHomePage;\n\texports.redirectToHome = _redirectToHome2.default;\n\n/***/ }),\n\n/***/ 61:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _getUserLangKey = __webpack_require__(33);\n\t\n\tvar _getUserLangKey2 = _interopRequireDefault(_getUserLangKey);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/**\n\t * Redirect to user language home page, from: / to: /langKey/\n\t * @param {[String]} langs allowed lang keys ['en', 'fr', 'pt']\n\t * @param {String} defaultLangKey default browser language key\n\t * @return {void}\n\t */\n\tvar redirectToHome = function redirectToHome(langs, defaultLangKey) {\n\t  if (typeof window === 'undefined') {\n\t    return;\n\t  }\n\t\n\t  var langKey = (0, _getUserLangKey2.default)(langs, defaultLangKey);\n\t  var newUrl = '/' + langKey + '/';\n\t  window.location.replace(newUrl);\n\t};\n\t\n\texports.default = redirectToHome;\n\n/***/ }),\n\n/***/ 476:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\texports.pageQuery = undefined;\n\t\n\tvar _react = __webpack_require__(2);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _graphql = __webpack_require__(13);\n\t\n\tvar _graphql2 = _interopRequireDefault(_graphql);\n\t\n\tvar _ptzI18n = __webpack_require__(60);\n\t\n\tvar _gatsbyLink = __webpack_require__(37);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar RedirectIndex = function (_React$PureComponent) {\n\t  _inherits(RedirectIndex, _React$PureComponent);\n\t\n\t  function RedirectIndex(args) {\n\t    _classCallCheck(this, RedirectIndex);\n\t\n\t    // Skip build, Browsers only\n\t    var _this = _possibleConstructorReturn(this, _React$PureComponent.call(this, args));\n\t\n\t    if (typeof window !== 'undefined') {\n\t      var _args$data$site$siteM = args.data.site.siteMetadata.languages,\n\t          langs = _args$data$site$siteM.langs,\n\t          defaultLangKey = _args$data$site$siteM.defaultLangKey;\n\t\n\t      var langKey = (0, _ptzI18n.getUserLangKey)(langs, defaultLangKey);\n\t      var homeUrl = (0, _gatsbyLink.withPrefix)('/' + langKey + '/');\n\t\n\t      // I don`t think this is the best solution\n\t      // I would like to use Gatsby Redirects like: \n\t      // https://github.com/gatsbyjs/gatsby/tree/master/examples/using-redirects\n\t      // But Gatsby Redirects are static, they need to be specified at build time,\n\t      // This redirect is dynamic, It needs to know the user browser language.\n\t      // Any ideias? Join the issue: https://github.com/angeloocana/gatsby-starter-default-i18n/issues/4\n\t      window.___history.replace(homeUrl);\n\t    }\n\t    return _this;\n\t  }\n\t\n\t  RedirectIndex.prototype.render = function render() {\n\t    return _react2.default.createElement('div', null);\n\t  };\n\t\n\t  return RedirectIndex;\n\t}(_react2.default.PureComponent);\n\t\n\texports.default = RedirectIndex;\n\tvar pageQuery = exports.pageQuery = '** extracted graphql fragment **';\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// component---src-pages-index-js-9d60cfd91d513fefcfec.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * Get browser language.\n *\n * @return {String} langKey\n */\nvar getBrowserLanguage = function getBrowserLanguage() {\n  if (typeof window === 'undefined') {\n    return null;\n  }\n\n  var first = window.navigator.languages ? window.navigator.languages[0] : null;\n\n  var lang = first || window.navigator.language || window.navigator.browserLanguage || window.navigator.userLanguage;\n\n  return lang;\n};\n\nexports.default = getBrowserLanguage;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/ptz-i18n/dist/getBrowserLanguage.js\n// module id = 32\n// module chunks = 20976610436329 27447698812214 34471704633725 35783957827783 114276838955818","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _ramda = require('ramda');\n\nvar _getValidLangKey = require('./getValidLangKey');\n\nvar _getValidLangKey2 = _interopRequireDefault(_getValidLangKey);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Get current language key from url.\n * @func\n * @param {[String]} langs allowed lang keys ['en', 'fr', 'pt']\n * @param {String} defaultLangKey default browser language key\n * @param {String} url browser url \n * @returns {String} current langKey\n */\nvar getCurrentLangKey = (0, _ramda.curry)(function (langs, defaultLangKey, url) {\n  var langKey = url.split('/')[1];\n  return (0, _getValidLangKey2.default)(langs, defaultLangKey, langKey);\n});\n\nexports.default = getCurrentLangKey;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/ptz-i18n/dist/getCurrentLangKey.js\n// module id = 58\n// module chunks = 20976610436329 27447698812214 34471704633725 35783957827783 114276838955818","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _ramda = require('ramda');\n\nvar defaultPagesPaths = ['/src/pages/'];\n\nvar getPagesPaths = function getPagesPaths(options) {\n  return options && options.pagesPaths || defaultPagesPaths;\n};\n\nvar getLangKeyDefault = function getLangKeyDefault(options) {\n  return options && options.langKeyDefault || options;\n};\n\nvar addSlashStart = function addSlashStart(fileName) {\n  return (0, _ramda.startsWith)('/', fileName) ? fileName : '/' + fileName;\n};\n\nvar addSlashEnd = function addSlashEnd(fileName) {\n  return (0, _ramda.endsWith)('/', fileName) ? fileName : fileName + '/';\n};\n\nvar addSlash = (0, _ramda.compose)(addSlashStart, addSlashEnd);\n\n/**\n * Get slug (path) and langKey for a given file path.\n *\n * Used by gatsby-plugin-i18n and gatsby-plugin-i18n-tags\n *\n * @param {{langKeyDefault: string, pagesPaths: string[] }} options plugin options\n * @param {String} fileAbsolutePath local file absolute path\n * @return {{slug: string, langKey: string}} slug and langKey\n */\nvar getSlugAndLang = (0, _ramda.curry)(function (options, fileAbsolutePath) {\n  var slugsAndLangs = getPagesPaths(options).map(function (pagesPath) {\n    var filePath = ('safeStartToSplit-' + fileAbsolutePath).split(pagesPath)[1];\n\n    if ((0, _ramda.isNil)(filePath)) {\n      return null;\n    }\n\n    var fileName = filePath.split('.');\n    var langKey = fileName.length === 3 ? fileName[1] : getLangKeyDefault(options);\n    var slug = addSlash((fileName.length === 3 ? langKey : '') + addSlash(fileName[0].replace('index', '')));\n\n    return {\n      slug: slug,\n      langKey: langKey\n    };\n  });\n\n  return (0, _ramda.head)(slugsAndLangs.filter((0, _ramda.compose)(_ramda.not, _ramda.isNil)));\n});\n\nexports.default = getSlugAndLang;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/ptz-i18n/dist/getSlugAndLang.js\n// module id = 59\n// module chunks = 20976610436329 27447698812214 34471704633725 35783957827783 114276838955818","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _getBrowserLanguage = require('./getBrowserLanguage');\n\nvar _getBrowserLanguage2 = _interopRequireDefault(_getBrowserLanguage);\n\nvar _getValidLangKey = require('./getValidLangKey');\n\nvar _getValidLangKey2 = _interopRequireDefault(_getValidLangKey);\n\nvar _ramda = require('ramda');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Get user browser valid langKey\n * @param {[String]} langs allowed lang keys ['en', 'fr', 'pt']\n * @param {String} defaultLangKey default browser language key\n * @return {string} valid langKey\n */\nvar getUserLangKey = function getUserLangKey(langs, defaultLangKey) {\n  return (0, _ramda.pipe)(_getBrowserLanguage2.default, (0, _getValidLangKey2.default)(langs, defaultLangKey))();\n};\n\nexports.default = getUserLangKey;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/ptz-i18n/dist/getUserLangKey.js\n// module id = 33\n// module chunks = 20976610436329 27447698812214 34471704633725 35783957827783 114276838955818","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _ramda = require('ramda');\n\n/**\n * Get valid langKey in langs or return defaultLangKey\n * @func\n * @param {[String]} langs allowed lang keys ['en', 'fr', 'pt']\n * @param {String} defaultLangKey default browser language key\n * @returns {String} valid langKey\n */\nvar getValidLangKey = (0, _ramda.curry)(function (langs, defaultLangKey, langKey) {\n  if ((0, _ramda.isNil)(langKey)) {\n    return defaultLangKey;\n  }\n\n  var currentLangKey = (0, _ramda.filter)(function (l) {\n    return (0, _ramda.startsWith)(l, langKey);\n  }, langs);\n  return currentLangKey[0] || defaultLangKey;\n});\n\nexports.default = getValidLangKey;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/ptz-i18n/dist/getValidLangKey.js\n// module id = 23\n// module chunks = 20976610436329 27447698812214 34471704633725 35783957827783 114276838955818","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.redirectToHome = exports.isHomePage = exports.nPaths = exports.getUrlForLang = exports.getSlugAndLang = exports.getLangs = exports.getI18nBase = exports.getValidLangKey = exports.getUserLangKey = exports.getCurrentLangKey = exports.getBrowserLanguage = undefined;\n\nvar _ramda = require('ramda');\n\nvar _getCurrentLangKey = require('./getCurrentLangKey');\n\nvar _getCurrentLangKey2 = _interopRequireDefault(_getCurrentLangKey);\n\nvar _getValidLangKey = require('./getValidLangKey');\n\nvar _getValidLangKey2 = _interopRequireDefault(_getValidLangKey);\n\nvar _getBrowserLanguage = require('./getBrowserLanguage');\n\nvar _getBrowserLanguage2 = _interopRequireDefault(_getBrowserLanguage);\n\nvar _redirectToHome = require('./redirectToHome');\n\nvar _redirectToHome2 = _interopRequireDefault(_redirectToHome);\n\nvar _getUserLangKey = require('./getUserLangKey');\n\nvar _getUserLangKey2 = _interopRequireDefault(_getUserLangKey);\n\nvar _getSlugAndLang = require('./getSlugAndLang');\n\nvar _getSlugAndLang2 = _interopRequireDefault(_getSlugAndLang);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Gets the number of paths in a url\n * @param {*} url pathName\n * @returns {Number} number of paths\n */\nvar nPaths = function nPaths(url) {\n  return (url.match(/\\//g) || []).length - 1;\n};\n\n/**\n * Checks if the url is /, /en/ or /pt/\n * @param {*} url this.props.location\n * @returns {Boolean} is home or not\n */\nvar isHomePage = function isHomePage(url) {\n  return nPaths(url) <= 1;\n};\n\n/**\n * Get url to the language\n * @param {String} homeLink  link for the home page\n * @param {String} url  browser url\n * @param {String} langKey default browser language key\n * @returns {String} new url\n */\nvar getUrlForLang = (0, _ramda.curry)(function (homeLink, url, langKey) {\n  return url === '/' || !(0, _ramda.startsWith)(homeLink, url) ? '/' + langKey + '/' : url.replace(homeLink, '/' + langKey + '/');\n});\n\n/**\n * Get langs to create Menu\n * @param {[String]} langs lang keys ['en', 'fr', 'pt']\n * @param {String} currentLangKey current Lang Key\n * @param {func} getUrlForLang getUrlForLang curried, waiting for langKey\n * @returns {Array} langs menu data\n */\nvar getLangs = (0, _ramda.curry)(function (langs, currentLangKey, getUrlForLang) {\n  return langs.map(function (langKey) {\n    return {\n      langKey: langKey,\n      selected: currentLangKey === langKey,\n      link: getUrlForLang(langKey)\n    };\n  });\n});\n\n/**\n * Get i18n obj for the given langKey or first when not found\n * @param {*} i18n Translations object\n * @param {*} langKey langKey\n * @returns {*} i18n[langKey] or i18n[defaultLangKey]\n */\nvar getI18nBase = (0, _ramda.curry)(function (i18n, langKey) {\n  return i18n[langKey] || Object.values(i18n)[0];\n});\n\nexports.getBrowserLanguage = _getBrowserLanguage2.default;\nexports.getCurrentLangKey = _getCurrentLangKey2.default;\nexports.getUserLangKey = _getUserLangKey2.default;\nexports.getValidLangKey = _getValidLangKey2.default;\nexports.getI18nBase = getI18nBase;\nexports.getLangs = getLangs;\nexports.getSlugAndLang = _getSlugAndLang2.default;\nexports.getUrlForLang = getUrlForLang;\nexports.nPaths = nPaths;\nexports.isHomePage = isHomePage;\nexports.redirectToHome = _redirectToHome2.default;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/ptz-i18n/dist/index.js\n// module id = 60\n// module chunks = 20976610436329 27447698812214 34471704633725 35783957827783 114276838955818","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _getUserLangKey = require('./getUserLangKey');\n\nvar _getUserLangKey2 = _interopRequireDefault(_getUserLangKey);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Redirect to user language home page, from: / to: /langKey/\n * @param {[String]} langs allowed lang keys ['en', 'fr', 'pt']\n * @param {String} defaultLangKey default browser language key\n * @return {void}\n */\nvar redirectToHome = function redirectToHome(langs, defaultLangKey) {\n  if (typeof window === 'undefined') {\n    return;\n  }\n\n  var langKey = (0, _getUserLangKey2.default)(langs, defaultLangKey);\n  var newUrl = '/' + langKey + '/';\n  window.location.replace(newUrl);\n};\n\nexports.default = redirectToHome;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/ptz-i18n/dist/redirectToHome.js\n// module id = 61\n// module chunks = 20976610436329 27447698812214 34471704633725 35783957827783 114276838955818","import React from 'react';\nimport graphql from 'graphql';\nimport { getUserLangKey } from 'ptz-i18n';\nimport { withPrefix } from 'gatsby-link';\n\nclass RedirectIndex extends React.PureComponent {\n  constructor(args) {\n    super(args);\n\n    // Skip build, Browsers only\n    if (typeof window !== 'undefined') {\n      const { langs, defaultLangKey } = args.data.site.siteMetadata.languages;\n      const langKey = getUserLangKey(langs, defaultLangKey);\n      const homeUrl = withPrefix(`/${langKey}/`);\n\n      // I don`t think this is the best solution\n      // I would like to use Gatsby Redirects like: \n      // https://github.com/gatsbyjs/gatsby/tree/master/examples/using-redirects\n      // But Gatsby Redirects are static, they need to be specified at build time,\n      // This redirect is dynamic, It needs to know the user browser language.\n      // Any ideias? Join the issue: https://github.com/angeloocana/gatsby-starter-default-i18n/issues/4\n      window.___history.replace(homeUrl);\n    }\n  }\n\n  render() {\n    return (<div />);\n  }\n}\n\nexport default RedirectIndex;\n\nexport const pageQuery = graphql`\n  query IndexQuery {    \n    site{\n      siteMetadata{\n        languages {\n          defaultLangKey\n          langs\n        }\n      }\n    }\n  }\n`;\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/index.js"],"sourceRoot":""}